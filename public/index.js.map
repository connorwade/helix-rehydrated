{
  "version": 3,
  "sources": ["../src/rehydrated.js", "../src/RUM.js"],
  "sourcesContent": ["document.querySelector(\"html\").lang = \"en\";\n\nasync function loadModule(node, importStatement) {\n  // Promise.all([importStatement]).then((modules) => {\n  //   if (modules.length > 0 && modules[0].render) {\n  //     modules[0].render(node);\n  //   }\n  // });\n  try {\n    const [mod] = await Promise.all([importStatement]);\n    if (mod && mod.render) {\n      mod.render(node);\n    }\n  } catch (error) {\n    console.error(`Error loading module: ${importStatement}:`, error);\n  }\n}\n\nasync function hydratePage() {\n  const observer = new MutationObserver(async (mutations) => {\n    for (let mutation of mutations) {\n      for (let node of mutation.addedNodes) {\n        if (!(node instanceof HTMLElement)) continue;\n\n        if (node.matches(\"main\") && !node.dataset.rendered) {\n          // const { Main } = await import(\"./blocks/Main/Main.js\");\n          // Main(node);\n          loadModule(node, import(\"./blocks/Main/Main.js\"));\n        }\n        if (node.matches(\"header\") && !node.dataset.rendered) {\n          // const { Header } = await import(\"./blocks/Header/Header.js\");\n          // Header(node);\n          const { header } = await import(\"./blocks/Svelte-Header/Header.js\");\n          node.dataset.rendered = \"true\";\n        }\n        if (\n          node.matches(\"main > div:first-child > p:first-child\") &&\n          !node.dataset.rendered\n        ) {\n          // const { Hero } = await import(\"./blocks/Hero/Hero.js\");\n          // Hero(node);\n          loadModule(node, import(\"./blocks/Hero/Hero.js\"));\n        }\n        if (node.matches(\".cards\") && !node.dataset.rendered) {\n          // const { Cards } = await import(\"./blocks/Cards/Cards.js\");\n          // Cards(node);\n          loadModule(node, import(\"./blocks/Cards/Cards.js\"));\n        }\n        if (node.matches(\".columns\") && !node.dataset.rendered) {\n          // const { Columns } = await import(\"./blocks/Columns/Columns.js\");\n          // Columns(node);\n          loadModule(node, import(\"./blocks/Columns/Columns.js\"));\n        }\n        if (node.matches(\"footer\") && !node.dataset.rendered) {\n          // const { Footer } = await import(\"./blocks/Footer/Footer.js\");\n          // Footer(node);\n          loadModule(node, import(\"./blocks/Footer/Footer.js\"));\n        }\n        if (node.matches(\".section-metadata\")) {\n          const { applyMetaData } = await import(\"./utils.js\");\n          applyMetaData(node);\n        }\n        if (node.childNodes.length === 0 && node instanceof HTMLDivElement) {\n          console.log(\"EMPTY NODES REMOVED\");\n          node.remove();\n        }\n      }\n    }\n  });\n\n  observer.observe(document, { childList: true, subtree: true });\n}\n\nhydratePage();\n\nasync function loadCSS(script) {\n  const link = Object.assign(document.createElement(\"link\"), {\n    rel: \"stylesheet\",\n    type: \"text/css\",\n    href: `${script}`,\n  });\n  document.head.appendChild(link);\n}\n", "/**\n * log RUM if part of the sample.\n * @param {string} checkpoint identifies the checkpoint in funnel\n * @param {Object} data additional data for RUM sample\n * @param {string} data.source DOM node that is the source of a checkpoint event,\n * identified by #id or .classname\n * @param {string} data.target subject of the checkpoint event,\n * for instance the href of a link, or a search term\n */\nfunction sampleRUM(checkpoint, data = {}) {\n  sampleRUM.defer = sampleRUM.defer || [];\n  const defer = (fnname) => {\n    sampleRUM[fnname] =\n      sampleRUM[fnname] ||\n      ((...args) => sampleRUM.defer.push({ fnname, args }));\n  };\n  sampleRUM.drain =\n    sampleRUM.drain ||\n    ((dfnname, fn) => {\n      sampleRUM[dfnname] = fn;\n      sampleRUM.defer\n        .filter(({ fnname }) => dfnname === fnname)\n        .forEach(({ fnname, args }) => sampleRUM[fnname](...args));\n    });\n  sampleRUM.always = sampleRUM.always || [];\n  sampleRUM.always.on = (chkpnt, fn) => {\n    sampleRUM.always[chkpnt] = fn;\n  };\n  sampleRUM.on = (chkpnt, fn) => {\n    sampleRUM.cases[chkpnt] = fn;\n  };\n  defer(\"observe\");\n  defer(\"cwv\");\n  try {\n    window.hlx = window.hlx || {};\n    if (!window.hlx.rum) {\n      const usp = new URLSearchParams(window.location.search);\n      const weight = usp.get(\"rum\") === \"on\" ? 1 : 100; // with parameter, weight is 1. Defaults to 100.\n      const id = Array.from({ length: 75 }, (_, i) =>\n        String.fromCharCode(48 + i)\n      )\n        .filter((a) => /\\d|[A-Z]/i.test(a))\n        .filter(() => Math.random() * 75 > 70)\n        .join(\"\");\n      const random = Math.random();\n      const isSelected = random * weight < 1;\n      const firstReadTime = Date.now();\n      const urlSanitizers = {\n        full: () => window.location.href,\n        origin: () => window.location.origin,\n        path: () => window.location.href.replace(/\\?.*$/, \"\"),\n      };\n      // eslint-disable-next-line object-curly-newline, max-len\n      window.hlx.rum = {\n        weight,\n        id,\n        random,\n        isSelected,\n        firstReadTime,\n        sampleRUM,\n        sanitizeURL: urlSanitizers[window.hlx.RUM_MASK_URL || \"path\"],\n      };\n    }\n    const { weight, id, firstReadTime } = window.hlx.rum;\n    if (window.hlx && window.hlx.rum && window.hlx.rum.isSelected) {\n      const knownProperties = [\n        \"weight\",\n        \"id\",\n        \"referer\",\n        \"checkpoint\",\n        \"t\",\n        \"source\",\n        \"target\",\n        \"cwv\",\n        \"CLS\",\n        \"FID\",\n        \"LCP\",\n        \"INP\",\n      ];\n      const sendPing = (pdata = data) => {\n        // eslint-disable-next-line object-curly-newline, max-len, no-use-before-define\n        const body = JSON.stringify(\n          {\n            weight,\n            id,\n            referer: window.hlx.rum.sanitizeURL(),\n            checkpoint,\n            t: Date.now() - firstReadTime,\n            ...data,\n          },\n          knownProperties\n        );\n        const url = `https://rum.hlx.page/.rum/${weight}`;\n        // eslint-disable-next-line no-unused-expressions\n        navigator.sendBeacon(url, body);\n        // eslint-disable-next-line no-console\n        console.debug(`ping:${checkpoint}`, pdata);\n      };\n      sampleRUM.cases = sampleRUM.cases || {\n        cwv: () => sampleRUM.cwv(data) || true,\n        lazy: () => {\n          // use classic script to avoid CORS issues\n          const script = document.createElement(\"script\");\n          script.src =\n            \"https://rum.hlx.page/.rum/@adobe/helix-rum-enhancer@^1/src/index.js\";\n          document.head.appendChild(script);\n          return true;\n        },\n      };\n      sendPing(data);\n      if (sampleRUM.cases[checkpoint]) {\n        sampleRUM.cases[checkpoint]();\n      }\n    }\n    if (sampleRUM.always[checkpoint]) {\n      sampleRUM.always[checkpoint](data);\n    }\n  } catch (error) {\n    // something went wrong\n  }\n}\n\n/**\n * Setup block utils.\n */\nfunction setup() {\n  window.hlx = window.hlx || {};\n  window.hlx.RUM_MASK_URL = \"full\";\n  window.hlx.codeBasePath = \"\";\n  window.hlx.lighthouse =\n    new URLSearchParams(window.location.search).get(\"lighthouse\") === \"on\";\n}\n\n/**\n * Auto initializiation.\n */\n\nfunction init() {\n  setup();\n  sampleRUM(\"top\");\n\n  window.addEventListener(\"load\", () => sampleRUM(\"load\"));\n\n  window.addEventListener(\"unhandledrejection\", (event) => {\n    sampleRUM(\"error\", {\n      source: event.reason.sourceURL,\n      target: event.reason.line,\n    });\n  });\n\n  window.addEventListener(\"error\", (event) => {\n    sampleRUM(\"error\", { source: event.filename, target: event.lineno });\n  });\n}\n\ninit();\n"],
  "mappings": "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",
  "names": ["weight", "id", "firstReadTime"]
}
