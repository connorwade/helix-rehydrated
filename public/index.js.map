{
  "version": 3,
  "sources": ["../src/rehydrated.js", "../src/RUM.js"],
  "sourcesContent": ["document.querySelector(\"html\").lang = \"en\";\n\nasync function createLCP(node) {\n  const { Block } = await import(\"./blocks/Block.js\");\n  const { createHero } = await import(\"./blocks/Hero/Hero.js\");\n  const { hero, picture } = new createHero(node);\n  const block = new Block(\"hero\", [hero]);\n  block.prepend(node.parentElement, picture, [\n    node.firstElementChild,\n    node.firstElementChild.nextElementSibling,\n  ]);\n  document.querySelector(\".hero-wrapper\").classList.add(\"hero-container\");\n}\n\nasync function hydratePage() {\n  const observer = new MutationObserver(async (mutations) => {\n    for (let mutation of mutations) {\n      for (let node of mutation.addedNodes) {\n        if (!(node instanceof HTMLElement)) continue;\n\n        if (node.matches(\"main\") && !node.dataset.rendered) {\n          const { Main } = await import(\"./blocks/Main/Main.js\");\n          Main(node);\n        }\n        if (node.matches(\"header\") && !node.dataset.rendered) {\n          // const { Header } = await import(\"./blocks/Header/Header.js\");\n          // Header(node);\n          const { header } = await import(\"./blocks/Svelte-Header/Header.js\");\n          node.dataset.rendered = \"true\";\n        }\n        if (\n          node.matches(\"main > div:first-child > p:first-child\") &&\n          !node.dataset.rendered\n        ) {\n          const { Hero } = await import(\"./blocks/Hero/Hero.js\");\n          Hero(node);\n          /**\n           * @type {HTMLPictureElement}\n           */\n          const picture = node.querySelector(\":scope > picture\");\n          if (\n            picture.lastElementChild.hasAttribute(\"loading\") &&\n            picture.lastElementChild.getAttribute(\"loading\") === \"lazy\"\n          ) {\n            picture.lastElementChild.setAttribute(\"loading\", \"eager\");\n          }\n        }\n        if (node.matches(\".cards\") && !node.dataset.rendered) {\n          const { Cards } = await import(\"./blocks/Cards/Cards.js\");\n          Cards(node);\n        }\n        if (node.matches(\".columns\") && !node.dataset.rendered) {\n          const { Columns } = await import(\"./blocks/Columns/Columns.js\");\n          Columns(node);\n        }\n        if (node.matches(\"footer\") && !node.dataset.rendered) {\n          const { Footer } = await import(\"./blocks/Footer/Footer.js\");\n          Footer(node);\n        }\n        if (node.matches(\".section-metadata\")) {\n          const { applyMetaData } = await import(\"./utils.js\");\n          applyMetaData(node);\n        }\n        if (node.childNodes.length === 0 && node instanceof HTMLDivElement) {\n          console.log(\"EMPTY NODES REMOVED\");\n          node.remove();\n        }\n      }\n    }\n  });\n\n  observer.observe(document, { childList: true, subtree: true });\n}\n\nhydratePage();\n\nfunction loadCSS(script) {\n  const link = Object.assign(document.createElement(\"link\"), {\n    rel: \"stylesheet\",\n    type: \"text/css\",\n    href: `${script}`,\n  });\n  document.head.appendChild(link);\n}\n", "/**\n * log RUM if part of the sample.\n * @param {string} checkpoint identifies the checkpoint in funnel\n * @param {Object} data additional data for RUM sample\n * @param {string} data.source DOM node that is the source of a checkpoint event,\n * identified by #id or .classname\n * @param {string} data.target subject of the checkpoint event,\n * for instance the href of a link, or a search term\n */\nfunction sampleRUM(checkpoint, data = {}) {\n  sampleRUM.defer = sampleRUM.defer || [];\n  const defer = (fnname) => {\n    sampleRUM[fnname] =\n      sampleRUM[fnname] ||\n      ((...args) => sampleRUM.defer.push({ fnname, args }));\n  };\n  sampleRUM.drain =\n    sampleRUM.drain ||\n    ((dfnname, fn) => {\n      sampleRUM[dfnname] = fn;\n      sampleRUM.defer\n        .filter(({ fnname }) => dfnname === fnname)\n        .forEach(({ fnname, args }) => sampleRUM[fnname](...args));\n    });\n  sampleRUM.always = sampleRUM.always || [];\n  sampleRUM.always.on = (chkpnt, fn) => {\n    sampleRUM.always[chkpnt] = fn;\n  };\n  sampleRUM.on = (chkpnt, fn) => {\n    sampleRUM.cases[chkpnt] = fn;\n  };\n  defer(\"observe\");\n  defer(\"cwv\");\n  try {\n    window.hlx = window.hlx || {};\n    if (!window.hlx.rum) {\n      const usp = new URLSearchParams(window.location.search);\n      const weight = usp.get(\"rum\") === \"on\" ? 1 : 100; // with parameter, weight is 1. Defaults to 100.\n      const id = Array.from({ length: 75 }, (_, i) =>\n        String.fromCharCode(48 + i)\n      )\n        .filter((a) => /\\d|[A-Z]/i.test(a))\n        .filter(() => Math.random() * 75 > 70)\n        .join(\"\");\n      const random = Math.random();\n      const isSelected = random * weight < 1;\n      const firstReadTime = Date.now();\n      const urlSanitizers = {\n        full: () => window.location.href,\n        origin: () => window.location.origin,\n        path: () => window.location.href.replace(/\\?.*$/, \"\"),\n      };\n      // eslint-disable-next-line object-curly-newline, max-len\n      window.hlx.rum = {\n        weight,\n        id,\n        random,\n        isSelected,\n        firstReadTime,\n        sampleRUM,\n        sanitizeURL: urlSanitizers[window.hlx.RUM_MASK_URL || \"path\"],\n      };\n    }\n    const { weight, id, firstReadTime } = window.hlx.rum;\n    if (window.hlx && window.hlx.rum && window.hlx.rum.isSelected) {\n      const knownProperties = [\n        \"weight\",\n        \"id\",\n        \"referer\",\n        \"checkpoint\",\n        \"t\",\n        \"source\",\n        \"target\",\n        \"cwv\",\n        \"CLS\",\n        \"FID\",\n        \"LCP\",\n        \"INP\",\n      ];\n      const sendPing = (pdata = data) => {\n        // eslint-disable-next-line object-curly-newline, max-len, no-use-before-define\n        const body = JSON.stringify(\n          {\n            weight,\n            id,\n            referer: window.hlx.rum.sanitizeURL(),\n            checkpoint,\n            t: Date.now() - firstReadTime,\n            ...data,\n          },\n          knownProperties\n        );\n        const url = `https://rum.hlx.page/.rum/${weight}`;\n        // eslint-disable-next-line no-unused-expressions\n        navigator.sendBeacon(url, body);\n        // eslint-disable-next-line no-console\n        console.debug(`ping:${checkpoint}`, pdata);\n      };\n      sampleRUM.cases = sampleRUM.cases || {\n        cwv: () => sampleRUM.cwv(data) || true,\n        lazy: () => {\n          // use classic script to avoid CORS issues\n          const script = document.createElement(\"script\");\n          script.src =\n            \"https://rum.hlx.page/.rum/@adobe/helix-rum-enhancer@^1/src/index.js\";\n          document.head.appendChild(script);\n          return true;\n        },\n      };\n      sendPing(data);\n      if (sampleRUM.cases[checkpoint]) {\n        sampleRUM.cases[checkpoint]();\n      }\n    }\n    if (sampleRUM.always[checkpoint]) {\n      sampleRUM.always[checkpoint](data);\n    }\n  } catch (error) {\n    // something went wrong\n  }\n}\n\n/**\n * Setup block utils.\n */\nfunction setup() {\n  window.hlx = window.hlx || {};\n  window.hlx.RUM_MASK_URL = \"full\";\n  window.hlx.codeBasePath = \"\";\n  window.hlx.lighthouse =\n    new URLSearchParams(window.location.search).get(\"lighthouse\") === \"on\";\n}\n\n/**\n * Auto initializiation.\n */\n\nfunction init() {\n  setup();\n  sampleRUM(\"top\");\n\n  window.addEventListener(\"load\", () => sampleRUM(\"load\"));\n\n  window.addEventListener(\"unhandledrejection\", (event) => {\n    sampleRUM(\"error\", {\n      source: event.reason.sourceURL,\n      target: event.reason.line,\n    });\n  });\n\n  window.addEventListener(\"error\", (event) => {\n    sampleRUM(\"error\", { source: event.filename, target: event.lineno });\n  });\n}\n\ninit();\n"],
  "mappings": "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",
  "names": ["hydratePage", "mutations", "mutation", "node", "Main", "header", "Hero", "picture", "Cards", "Columns", "Footer", "applyMetaData", "sampleRUM", "checkpoint", "data", "defer", "fnname", "args", "dfnname", "fn", "chkpnt", "weight", "id", "_", "i", "a", "random", "isSelected", "firstReadTime", "urlSanitizers", "knownProperties", "sendPing", "pdata", "body", "url", "script", "setup", "init", "event"]
}
